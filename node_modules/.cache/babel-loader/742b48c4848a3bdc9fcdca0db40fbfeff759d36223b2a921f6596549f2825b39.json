{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport { useFreshCallback } from './useFreshCallback.js';\n\n/**\r\n * usePromise\r\n * @description Promise management hook for react\r\n * @see {@link https://rooks.vercel.app/docs/usePromise}\r\n */\nfunction usePromise(asyncFunction) {\n  let deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  const [state, setState] = useState({\n    data: null,\n    loading: true,\n    error: null\n  });\n  const freshAsyncCallback = useFreshCallback(asyncFunction);\n  useEffect(() => {\n    let isMounted = true;\n    async function fetchData() {\n      try {\n        const data = await freshAsyncCallback();\n        if (isMounted) {\n          setState({\n            data,\n            loading: false,\n            error: null\n          });\n        }\n      } catch (error) {\n        if (isMounted) {\n          setState({\n            data: null,\n            loading: false,\n            error: error instanceof Error ? error : new Error(String(error))\n          });\n        }\n      }\n    }\n    fetchData();\n    return () => {\n      isMounted = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [freshAsyncCallback, ...deps]);\n  return state;\n}\nexport { usePromise };","map":{"version":3,"names":["useState","useEffect","useFreshCallback","usePromise","asyncFunction","deps","arguments","length","undefined","state","setState","data","loading","error","freshAsyncCallback","isMounted","fetchData","Error","String"],"sources":["/Users/benjin8or/Cisco Project/cisco-project/node_modules/rooks/dist/esm/hooks/usePromise.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useFreshCallback } from './useFreshCallback.js';\n\n/**\r\n * usePromise\r\n * @description Promise management hook for react\r\n * @see {@link https://rooks.vercel.app/docs/usePromise}\r\n */\r\nfunction usePromise(asyncFunction, deps = []) {\r\n    const [state, setState] = useState({\r\n        data: null,\r\n        loading: true,\r\n        error: null,\r\n    });\r\n    const freshAsyncCallback = useFreshCallback(asyncFunction);\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        async function fetchData() {\r\n            try {\r\n                const data = await freshAsyncCallback();\r\n                if (isMounted) {\r\n                    setState({\r\n                        data,\r\n                        loading: false,\r\n                        error: null,\r\n                    });\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (isMounted) {\r\n                    setState({\r\n                        data: null,\r\n                        loading: false,\r\n                        error: error instanceof Error ? error : new Error(String(error)),\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        fetchData();\r\n        return () => {\r\n            isMounted = false;\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [freshAsyncCallback, ...deps]);\r\n    return state;\r\n}\n\nexport { usePromise };\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,gBAAgB,QAAQ,uBAAuB;;AAExD;AACA;AACA;AACA;AACA;AACA,SAASC,UAAUA,CAACC,aAAa,EAAa;EAAA,IAAXC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EACxC,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC;IAC/BW,IAAI,EAAE,IAAI;IACVC,OAAO,EAAE,IAAI;IACbC,KAAK,EAAE;EACX,CAAC,CAAC;EACF,MAAMC,kBAAkB,GAAGZ,gBAAgB,CAACE,aAAa,CAAC;EAC1DH,SAAS,CAAC,MAAM;IACZ,IAAIc,SAAS,GAAG,IAAI;IACpB,eAAeC,SAASA,CAAA,EAAG;MACvB,IAAI;QACA,MAAML,IAAI,GAAG,MAAMG,kBAAkB,EAAE;QACvC,IAAIC,SAAS,EAAE;UACXL,QAAQ,CAAC;YACLC,IAAI;YACJC,OAAO,EAAE,KAAK;YACdC,KAAK,EAAE;UACX,CAAC,CAAC;QACN;MACJ,CAAC,CACD,OAAOA,KAAK,EAAE;QACV,IAAIE,SAAS,EAAE;UACXL,QAAQ,CAAC;YACLC,IAAI,EAAE,IAAI;YACVC,OAAO,EAAE,KAAK;YACdC,KAAK,EAAEA,KAAK,YAAYI,KAAK,GAAGJ,KAAK,GAAG,IAAII,KAAK,CAACC,MAAM,CAACL,KAAK,CAAC;UACnE,CAAC,CAAC;QACN;MACJ;IACJ;IACAG,SAAS,EAAE;IACX,OAAO,MAAM;MACTD,SAAS,GAAG,KAAK;IACrB,CAAC;IACD;EACJ,CAAC,EAAE,CAACD,kBAAkB,EAAE,GAAGT,IAAI,CAAC,CAAC;EACjC,OAAOI,KAAK;AAChB;AAEA,SAASN,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}